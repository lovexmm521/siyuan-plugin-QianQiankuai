/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */(()=>{"use strict";var b={};b.d=(l,t)=>{for(var e in t)b.o(t,e)&&!b.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})},b.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t),b.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var v={};b.r(v),b.d(v,{default:()=>M});const g=require("siyuan");class C{constructor(){this.styleId="siyuan-block-custom-css-dynamic",this.observer=null,this.debounceTimer=null}enable(){console.log("[\u5343\u5343\u5757] \u81EA\u5B9A\u4E49\u5757css\u529F\u80FD (\u5347\u7EA7\u7248): \u5DF2\u542F\u7528"),this.applyStyles(),this.observeDOMChanges()}disable(){this.observer&&(this.observer.disconnect(),this.observer=null);const t=document.getElementById(this.styleId);t&&t.remove(),console.log("[\u5343\u5343\u5757] \u81EA\u5B9A\u4E49\u5757css\u529F\u80FD (\u5347\u7EA7\u7248): \u5DF2\u7981\u7528\u5E76\u6E05\u7406")}applyStyles(){const t=document.querySelectorAll("[custom-css]"),e=[],s=':is(#layouts, #preview, [data-key="dialog-exportimage"], #editor)';t.forEach(i=>{var n;const a=(n=i.getAttribute("custom-css"))==null?void 0:n.trim(),r=i.getAttribute("data-node-id");if(a&&r)if(a.startsWith("/* @webpack */")){const c=a.replace("/* @webpack */","").trim();e.push(c)}else{const c=`${s} div[data-node-id="${r}"] { ${a} }`;e.push(c)}});const o=document.getElementById(this.styleId);if(o&&o.remove(),e.length>0){const i=document.createElement("style");i.id=this.styleId,i.type="text/css",i.textContent=e.join(`
`),document.head.appendChild(i)}}observeDOMChanges(){const t=document.querySelector(".layout__center")||document.body;if(!t){setTimeout(()=>this.observeDOMChanges(),100);return}const e={attributes:!0,childList:!0,subtree:!0,attributeFilter:["custom-css"]},s=()=>{this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>this.applyStyles(),250)};this.observer=new MutationObserver(s),this.observer.observe(t,e)}}class S{constructor(){this.activeScripts=new Map,this.observer=null,this.debounceTimer=null}enable(){console.log("[\u5343\u5343\u5757] \u81EA\u5B9A\u4E49\u5757js\u529F\u80FD: \u5DF2\u542F\u7528"),this.scanAndApplyJS(),this.observeDOMChanges()}disable(){this.observer&&(this.observer.disconnect(),this.observer=null),this.activeScripts.forEach(t=>{try{t.cleanup()}catch(e){console.error("Error during script cleanup:",e)}}),this.activeScripts.clear(),console.log("[\u5343\u5343\u5757] \u81EA\u5B9A\u4E49\u5757js\u529F\u80FD: \u5DF2\u7981\u7528\u5E76\u6E05\u7406")}scanAndApplyJS(){const t=new Set;document.querySelectorAll("[custom-js]").forEach(e=>{const s=e.getAttribute("data-node-id");s&&t.add(s)}),this.activeScripts.forEach((e,s)=>{if(!t.has(s)){try{e.cleanup()}catch(o){console.error(`Error cleaning up script for block [${s}]:`,o)}this.activeScripts.delete(s)}}),document.querySelectorAll("[custom-js]").forEach(e=>{const s=e.getAttribute("data-node-id"),o=e.getAttribute("custom-js");if(!s||!o.trim())return;const i=this.activeScripts.get(s);if(!(i&&i.code===o)){if(i)try{i.cleanup()}catch(n){console.error(`Error cleaning up outdated script for block [${s}]:`,n)}try{const n=e.getAttribute("style"),r=new Function(o).call(e);let c;typeof r=="function"?c=r:c=()=>{n?e.setAttribute("style",n):e.removeAttribute("style")},this.activeScripts.set(s,{code:o,cleanup:c})}catch(n){console.error(`Error executing custom JS for block [${s}]:`,n)}}})}observeDOMChanges(){const t=document.querySelector(".layout__center")||document.body;if(!t){setTimeout(()=>this.observeDOMChanges(),100);return}const e={attributes:!0,childList:!0,subtree:!0,attributeFilter:["custom-js"]},s=()=>{this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>this.scanAndApplyJS(),250)};this.observer=new MutationObserver(s),this.observer.observe(t,e)}}var A=(l,t,e)=>new Promise((s,o)=>{var i=r=>{try{a(e.next(r))}catch(c){o(c)}},n=r=>{try{a(e.throw(r))}catch(c){o(c)}},a=r=>r.done?s(r.value):Promise.resolve(r.value).then(i,n);a((e=e.apply(l,t)).next())});class T{constructor(){this.executedBlocks=new Set,this.observer=null,this.debounceTimer=null,this.cursorPositions=new Map,this.focusLockId=null,this.lastGoodCursorPosition=new Map,this.isSaving=!1,this.lastActionTimestamps=new Map,this.handleDocSwitch=this._handleDocSwitch.bind(this)}enable(){console.log("[\u5343\u5343\u5757] HTML\u5757\u7F16\u8F91\u529F\u80FD: \u5DF2\u542F\u7528"),this.applyToAllHtmlBlocks(),this.observeDOMChanges(),document.addEventListener("switch-protyle",this.handleDocSwitch)}disable(){this.observer&&(this.observer.disconnect(),this.observer=null),document.removeEventListener("switch-protyle",this.handleDocSwitch),this.executedBlocks.forEach(t=>{const e=document.querySelector(`[data-node-id="${t}"] protyle-html`);if(e){const s=this.findEditableContent(e);s&&(s.removeAttribute("contenteditable"),s.style.outline="")}}),this.executedBlocks.clear(),this.cursorPositions.clear(),this.focusLockId=null,this.lastGoodCursorPosition.clear(),this.isSaving=!1,this.lastActionTimestamps.clear(),console.log("[\u5343\u5343\u5757] HTML\u5757\u7F16\u8F91\u529F\u80FD: \u5DF2\u7981\u7528\u5E76\u6E05\u7406")}_handleDocSwitch(){this.executedBlocks.clear(),this.cursorPositions.clear(),this.focusLockId=null,this.lastGoodCursorPosition.clear(),this.isSaving=!1,this.lastActionTimestamps.clear(),setTimeout(()=>this.applyToAllHtmlBlocks(),200)}findEditableContent(t){if(!t||!t.shadowRoot)return null;for(const e of t.shadowRoot.childNodes)if(e.nodeType===Node.ELEMENT_NODE&&["STYLE","SCRIPT"].indexOf(e.tagName.toUpperCase())===-1)return e;return null}getCursorPosition(t){const s=t.getRootNode().getSelection();if(!s||s.rangeCount===0)return 0;const o=s.getRangeAt(0);if(!t.contains(o.startContainer))return 0;const i=document.createRange();return i.selectNodeContents(t),i.setEnd(o.startContainer,o.startOffset),i.toString().length}_setCursorPosition(t,e){try{document.activeElement!==t&&t.getRootNode().activeElement!==t&&t.focus({preventScroll:!0});let s=0;const o=document.createNodeIterator(t,NodeFilter.SHOW_TEXT);let i;for(;i=o.nextNode();){const n=i.textContent.length;if(s+n>=e){const a=Math.min(e-s,n);if(!i.isConnected)return!1;const r=t.getRootNode().getSelection()||window.getSelection();if(!r)return!1;const c=document.createRange();return c.setStart(i,a),c.collapse(!0),r.removeAllRanges(),r.addRange(c),!0}s+=n}}catch(s){console.error("[CURSOR-LOG] _setCursorPosition failed:",s)}return!1}restoreCursorPosition(t){const e=this.cursorPositions.get(t);if(typeof e!="number")return;const s=(o=0)=>{if(o>60){this.cursorPositions.delete(t);return}const i=document.querySelector(`[data-node-id="${t}"] protyle-html`);if(!i){setTimeout(()=>s(o+1),50);return}const n=this.findEditableContent(i);if(!n){setTimeout(()=>s(o+1),50);return}setTimeout(()=>{this._setCursorPosition(n,e)&&(this.focusLockId=t,this.lastGoodCursorPosition.set(t,e))},0),this.cursorPositions.delete(t)};s()}applyToAllHtmlBlocks(){!this.observer&&document.querySelectorAll("[data-node-id]").length>0||document.querySelectorAll("div.protyle-wysiwyg protyle-html").forEach(t=>{const e=t.closest("[data-node-id]");if(!e)return;const s=e.getAttribute("data-node-id");if(!s||this.executedBlocks.has(s))return;const o=this.findEditableContent(t);o&&(this.makeContentEditable(s,o),this.cursorPositions.has(s)&&setTimeout(()=>this.restoreCursorPosition(s),0))})}makeContentEditable(t,e){e.setAttribute("contenteditable","true"),e.style.outline="1px dashed #95a5a6",e.addEventListener("focus",()=>e.style.outline="1px solid #3498db"),e.addEventListener("blur",i=>{if(this.focusLockId===t){i.preventDefault();const n=this.lastGoodCursorPosition.get(t);setTimeout(()=>{typeof n=="number"?this._setCursorPosition(e,n):e.focus()},0)}else if(!this.isSaving){e.style.outline="1px dashed #95a5a6";const n=this.lastGoodCursorPosition.get(t);typeof n=="number"&&this.cursorPositions.set(t,n),this.saveContent(t,e)}}),e.addEventListener("keydown",i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)&&(i.key==="Backspace"||i.key.length===1)){if(i.preventDefault(),i.stopImmediatePropagation(),i.repeat)return;const n=Date.now(),a=this.lastActionTimestamps.get(t)||0;if(n-a<50)return;this.lastActionTimestamps.set(t,n),i.key==="Backspace"?document.execCommand("delete",!1,null):document.execCommand("insertText",!1,i.key)}});let s=!1;e.addEventListener("compositionstart",()=>{s=!0});const o=()=>{this.focusLockId===t&&(this.focusLockId=null);const i=this.getCursorPosition(e);this.lastGoodCursorPosition.set(t,i)};e.addEventListener("compositionend",()=>{s=!1,this.lastActionTimestamps.set(t,Date.now()),o()}),e.addEventListener("input",()=>{s||o()}),this.executedBlocks.add(t)}saveContent(t,e){return A(this,null,function*(){if(!this.isSaving)try{this.isSaving=!0;const s=e.cloneNode(!0);s.removeAttribute("contenteditable"),s.style.outline="",s.querySelectorAll('[contenteditable="true"]').forEach(n=>n.removeAttribute("contenteditable"));const i={dataType:"markdown",data:`<div>${s.innerHTML}</div>`,id:t};yield fetch("/api/block/updateBlock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}catch(s){console.error(`[ERROR] \u8BF7\u6C42\u9519\u8BEF [${t}]:`,s)}finally{this.isSaving=!1}})}observeDOMChanges(){if(this.observer)return;const t=document.querySelector(".layout__center");if(!t){setTimeout(()=>this.observeDOMChanges(),100);return}const e={attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-content"]},s=o=>{const i=n=>{this.executedBlocks.delete(n),this.focusLockId===n&&(this.focusLockId=null,this.lastGoodCursorPosition.delete(n))};for(const n of o)if(n.type==="childList"&&n.removedNodes.length>0&&n.removedNodes.forEach(a=>{if(a.nodeType!==1)return;const r=c=>{const f=c.getAttribute("data-node-id");f&&this.executedBlocks.has(f)&&i(f)};r(a),a.querySelectorAll("[data-node-id]").forEach(r)}),n.type==="attributes"&&n.attributeName==="data-content"){const a=n.target;if(a.tagName==="PROTYLE-HTML"){const r=a.closest("[data-node-id]"),c=r?.getAttribute("data-node-id");c&&this.executedBlocks.has(c)&&i(c)}}this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>this.applyToAllHtmlBlocks(),0)};this.observer=new MutationObserver(s),this.observer.observe(t,e)}}class F{constructor(t){this.plugin=t}init(){this.plugin.eventBus.on("click-blockicon",({detail:t})=>{const e=t.menu,s=t.blockElements[0];if(!s)return;const o=s.getAttribute("data-node-id"),i=s.getAttribute("custom-css")||"",n=s.getAttribute("custom-js")||"",a=this.createInputSubmenu(this.plugin.i18n.cssPlaceholder,o,"custom-css",i);e.addItem({icon:"iconCSS",label:this.plugin.i18n.title1,type:"submenu",submenu:[{element:a}]});const r=this.createInputSubmenu(this.plugin.i18n.jsPlaceholder,o,"custom-js",n);e.addItem({label:this.plugin.i18n.title2,type:"submenu",submenu:[{element:r}]})})}createInputSubmenu(t,e,s,o){const i=document.createElement("div");i.className="qianqian-edit-container",i.style.userSelect="text",i.addEventListener("click",a=>{a.stopPropagation()});const n=document.createElement("textarea");return n.className="b3-text-field",n.style.width="300px",n.style.height="150px",n.placeholder=t||"",n.value=o,n.addEventListener("blur",()=>{const a=n.value;(0,g.fetchPost)("/api/attr/setBlockAttrs",{id:e,attrs:{[s]:a}})}),i.appendChild(n),i}}class D{render(t,e){const s=t.closest(".layout__dockr"),o=document.createElement("div");o.style.position="relative",o.style.width="100%",o.style.height="100%",o.style.overflowX="auto",o.style.overflowY="hidden",t.appendChild(o);const i={\u7EBF\u8DEF1:"https://e12.free-chat.asia/",\u7EBF\u8DEF2:"https://e11.free-chat.asia/",\u7EBF\u8DEF3:"https://e10.free-chat.asia/",\u7EBF\u8DEF4:"https://e9.free-chat.asia/",\u5F53\u8D1Dai:"https://ai.dangbei.com/chat",\u6DF1\u5EA6ai:"https://chat.deepseek.com/sign_in",\u8C46\u5305ai:"https://www.doubao.com/chat/",\u79D8\u5854ai:"https://metaso.cn/",\u6708\u4E4Bai:"https://www.kimi.com/",\u53CC\u5B50\u5EA7ai:"https://gemini.google.com/app",\u9999\u8549ai:"https://labs.google/fx/tools/whisk",\u5373\u68A6ai:"https://jimeng.jianying.com/ai-tool/home",\u7EBF\u8DEFai:"https://i.free-chat.asia/",\u53D1\u73B0ai:"https://www.faxianai.com/",\u8C37\u6B4C\u767B\u5F55:"https://accounts.google.com/ServiceLogin?passive=1209600&amp;continue=https://gemini.google.com/app&amp;followup=https://gemini.google.com/app&amp;ec=GAZAkgU",\u5373\u68A6\u767B\u5F55:"https://open.douyin.com/platform/oauth/connect?client_key=aw97st49sighch6k&response_type=code&scope=user_info&state=7742f5c93gAToVCgoVPZIDA5NDFmOWYxMjRmZWFkZTdkM2MwYzY4ZWJlZjNmMGQzoU7ZOGh0dHBzOi8vamltZW5nLmppYW55aW5nLmNvbS9haS10b29sL3RoaXJkLXBhcnR5LWNhbGxiYWNroVYBoUkAoUQAoUHSAAfWn6FNAKFIs2ppbWVuZy5qaWFueWluZy5jb22hUgKiUEzROl6mQUNUSU9OoKFMoKFU2SBhODIxMzc5Zjg5OWZkNjU1ZDMxMjQxOWZiZGVkODZhYaFXAKFGAKJTQQChVcKiTUzC&redirect_uri=https://jimeng.jianying.com/passport/web/web_login_success"};e&&(delete i.\u6DF1\u5EA6ai,delete i.\u79D8\u5854ai);const n=!e,a="Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15A372 Safari/604.1",r="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36";let c;const f=(h,m="300px")=>{const p=document.createElement("iframe");return p.src=h,p.style.width="100%",p.style.height="100%",p.style.border="none",p.style.minWidth=m,p},E=(h,m,p="300px")=>{const d=document.createElement("webview");return d.src=h,d.setAttribute("useragent",m),d.setAttribute("webpreferences","contextIsolation, javascript=yes"),d.setAttribute("allowpopups",""),d.style.width="100%",d.style.height="100%",d.style.border="none",d.style.minWidth=p,d};n?c=E(i.\u7EBF\u8DEF1,r,"300px"):c=f(i.\u7EBF\u8DEF1,"300px"),o.appendChild(c);const u=document.createElement("div");u.style.position="absolute",u.style.top="10px",u.style.right="10px",u.style.zIndex="10",u.style.display="flex",u.style.alignItems="center",u.style.opacity="0.3",u.style.transition="opacity 0.3s ease-in-out",o.appendChild(u),u.addEventListener("mouseenter",()=>u.style.opacity="1"),u.addEventListener("mouseleave",()=>u.style.opacity="0.3");const y=document.createElement("select");if(y.className="b3-select",y.style.cursor="pointer",u.appendChild(y),Object.keys(i).forEach(h=>{const m=document.createElement("option");m.value=i[h],m.dataset.key=h,m.textContent=h,y.appendChild(m)}),y.addEventListener("change",h=>{const m=h.target.selectedOptions[0],p=m.dataset.key,d=m.value;o.removeChild(c);const w=p==="\u5F53\u8D1Dai"?"408px":"300px",L=["\u6DF1\u5EA6ai","\u79D8\u5854ai"],B={\u6DF1\u5EA6ai:a,\u79D8\u5854ai:r};if(L.includes(p)){const P=B[p];c=E(d,P,w)}else n?c=E(d,r,w):c=f(d,w);o.appendChild(c)}),s){const h=s.previousElementSibling;h&&h.addEventListener("mousedown",()=>{c.style.pointerEvents="none"}),window.addEventListener("mouseup",()=>{c.style.pointerEvents="auto"})}}}var k=(l,t,e)=>new Promise((s,o)=>{var i=r=>{try{a(e.next(r))}catch(c){o(c)}},n=r=>{try{a(e.throw(r))}catch(c){o(c)}},a=r=>r.done?s(r.value):Promise.resolve(r.value).then(i,n);a((e=e.apply(l,t)).next())});const x='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M896 192c-53.024-53.024-124.928-81.92-200.448-81.92s-147.456 28.896-200.448-81.92L512 209.024 438.912 192C385.888 138.976 314 110.08 238.464 110.08S91.04 138.976 38.016 192C-14.976 244.992-14.976 331.008 38.016 384L512 857.984l473.984-473.984c53.024-53.024 124.928-81.92 200.448-81.92s147.456 28.896 200.448 81.92z" fill="#e91e63"></path></svg>';class M extends g.Plugin{constructor(){super(...arguments),this.isCssEnabled=!0,this.isJsEnabled=!0,this.isHtmlEnabled=!1}onload(){return k(this,null,function*(){const t=(0,g.getFrontend)(),e=(0,g.getBackend)();this.isMobileForDock=t==="mobile"||t==="browser-mobile"||e==="android"||e==="ios";const s=window.innerWidth<768;this.isPhoneForMenu=this.isMobileForDock&&s,yield this.loadSettings(),this.freeCss=new C,this.freeJs=new S,this.freeHtml=new T,this.isCssEnabled&&this.freeCss.enable(),this.isJsEnabled&&this.freeJs.enable(),this.isHtmlEnabled&&setTimeout(()=>{this.isHtmlEnabled&&this.freeHtml.enable()},500),this.topBarElement=this.addTopBar({icon:x,title:this.i18n.pluginName,position:"right",callback:()=>{this.showTopBarMenu()}}),this.blockMenuManager=new F(this),this.blockMenuManager.init(),this.dock=new D,this.addDock({config:{position:"Right",size:{width:408,height:0},icon:"iconSparkles",title:"\u5343\u5343AI\u52A9\u624B"},data:{},type:"baidu_dock",init:o=>{this.dock.render(o.element,this.isMobileForDock)}})})}onunload(){this.freeCss.disable(),this.freeJs.disable(),this.freeHtml.disable(),console.log("QianQian Plugin unloaded.")}createCustomMenuItem(t,e){const s=document.createElement("div");return s.className="b3-menu__item",s.innerHTML=`
            <div class="romantic-menu-item">
                <span class="b3-menu__label">${t}</span>
                <input type="checkbox" class="b3-switch" ${e?"checked":""}>
            </div>
        `,s}showTopBarMenu(){const t=this.topBarElement.getBoundingClientRect(),e=new g.Menu("romantic-menu"),s=this.createCustomMenuItem(this.i18n.title1,this.isCssEnabled),o=s.querySelector("input[type='checkbox']");o.addEventListener("click",()=>{this.isCssEnabled=o.checked,this.isCssEnabled?this.freeCss.enable():this.freeCss.disable(),this.saveSettings()}),e.addItem({element:s});const i=this.createCustomMenuItem(this.i18n.title2,this.isJsEnabled),n=i.querySelector("input[type='checkbox']");n.addEventListener("click",()=>{this.isJsEnabled=n.checked,this.isJsEnabled?this.freeJs.enable():this.freeJs.disable(),this.saveSettings()}),e.addItem({element:i});const a=this.createCustomMenuItem(this.i18n.title3,this.isHtmlEnabled),r=a.querySelector("input[type='checkbox']");r.addEventListener("click",()=>{this.isHtmlEnabled=r.checked,this.isHtmlEnabled?this.freeHtml.enable():this.freeHtml.disable(),this.saveSettings()}),e.addItem({element:a}),e.addSeparator(),e.addItem({icon:"iconLink",label:this.i18n.promptLink,click:()=>{window.open("https://ld246.com/article/1758370873475?r=lovexmm521")}}),e.addItem({icon:"iconLink",label:this.i18n.learningLink,click:()=>{window.open("https://sstudy.wiki/")}}),this.isPhoneForMenu?e.fullscreen():e.open({x:t.right,y:t.bottom,isLeft:!0})}loadSettings(){return k(this,null,function*(){var t,e,s;const o=yield this.loadData("settings.json");o?(this.isCssEnabled=(t=o.isCssEnabled)!=null?t:!0,this.isJsEnabled=(e=o.isJsEnabled)!=null?e:!0,this.isHtmlEnabled=(s=o.isHtmlEnabled)!=null?s:!1):this.isHtmlEnabled=!1})}saveSettings(){const t={isCssEnabled:this.isCssEnabled,isJsEnabled:this.isJsEnabled,isHtmlEnabled:this.isHtmlEnabled};this.saveData("settings.json",t)}}module.exports=v})();
